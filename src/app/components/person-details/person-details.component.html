<div *ngIf="person" fxLayout="column" fxLayoutGap="1em">
  <mat-card>
    <mat-card-header fxHide.gt-xs>
      <img style="width: 64px; height: 64px; margin-right: 1em;" mat-card-avatar
           [src]="apiService.getAssetUrl(person.image)">
      <mat-card-title><h2 style="font-size: 24px;">{{person.firstName + ' ' + person.lastName}}</h2></mat-card-title>
      <mat-card-subtitle>
        <a style="display: inline;" [routerLink]="['/search']"
           [queryParams]="{categoryId: categoryIdPerson}">Person</a>
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div fxLayout="row" fxLayoutGap="2em">
        <div fxFlex="40" fxHide.lt-sm>
          <img style="width:100%; height:auto;" [src]="apiService.getAssetUrl(person.image)">
        </div>

        <div fxFlex="60" fxFlex.lt-sm="100" fxLayout="column" fxLayoutGap="1em">
          <div fxFlex>
            <h1 fxHide.xs>{{person.firstName + ' ' + person.lastName}}</h1>
            <a fxHide.xs style="display: inline;" [routerLink]="['/search']"
               [queryParams]="{categoryId: categoryIdPerson}">Person</a>

            <mat-list class="user-menu-list">
              <mat-list-item>
                <mat-icon mat-list-icon>work</mat-icon>
                <p mat-line>{{person.jobTitle}}</p>
              </mat-list-item>
              <mat-list-item>
                <mat-icon mat-list-icon>email</mat-icon>
                <p mat-line>{{person.email}}</p>
              </mat-list-item>
            </mat-list>
          </div>

          <div fxFlex="36px" fxFlexAlign="end">
            <a mat-raised-button color="accent" [href]="person.directoryUrl" target="_blank">
              Contact
            </a>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="person.orgUnits.length">
    <h2>Organisational units</h2>
    <mat-nav-list>
      <mat-list-item *ngFor="let orgUnit of person.orgUnits" [routerLink]="['/orgUnit', orgUnit.id]">
        <img mat-list-avatar [src]="apiService.getAssetUrl(orgUnit.image)">
        <h3 mat-line> {{orgUnit.name}} </h3>
        <p mat-line> {{orgUnit.summary}} </p>
      </mat-list-item>
    </mat-nav-list>
  </mat-card>

  <mat-card *ngIf="supportedContent && supportedContent.length">
    <h2>Supported resources</h2>
    <mat-nav-list>
      <mat-list-item *ngFor="let item of supportedContent" [routerLink]="item | listItemToRouterLink">
        <img mat-list-avatar [src]="apiService.getAssetUrl(item.image)">
        <h3 mat-line> {{item.title}} </h3>
        <p mat-line>{{item.subtitle}}</p>
      </mat-list-item>
    </mat-nav-list>
  </mat-card>
</div>

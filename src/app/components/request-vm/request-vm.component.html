<mat-card>
  <mat-card-header style="padding-left: 16px;margin-bottom: 1.5em;">
    <img *ngIf="content" mat-card-avatar [src]="apiService.getAssetUrl(content.image)">
    <h1>Request a Virtual Machine</h1>
  </mat-card-header>

  <mat-horizontal-stepper #stepper linear (selectionChange)="stepChanged($event)">
    <mat-step editable="false" [stepControl]="requestVmForm">

      <form [formGroup]="requestVmForm" novalidate>
        <ng-template matStepLabel>Details</ng-template>

        <div #container>
          <div #formContent>
            <p>In order to request a virtual machine, please book a consultation with us to discuss required details. A consultation typically takes 30 minutes. No preparation on your side is necessary. If you have any questions please put them into the comments field.</p>

            <div class="form-group">
              <h3>When would you like the consultation to take place?</h3>

              <mat-form-field style="padding-right: 20px;">
                <input matInput [matDatepicker]="picker" [min]="dateToday" formControlName="date" placeholder="Date">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <mat-error *ngIf="dateCtrl.invalid">Please choose a date</mat-error>
              </mat-form-field>

              <mat-form-field>
                <mat-select placeholder="Time" formControlName="time">
                  <mat-option *ngFor="let time of times" [value]="time">
                    {{time}}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="timeCtrl.invalid">Please choose a time</mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <h3>Location</h3>
              <p>Please meet us at 23 Symonds Street, Building 302, Floor 5, Room 585 or make alternative arrangements with us
                through the comments field.</p>
            </div>

            <div class="form-group">
              <h3>Do you have any comments?</h3>
              <mat-form-field class="input-full-width">
                <textarea matInput placeholder="Comments" formControlName="comments"></textarea>
              </mat-form-field>
            </div>
          </div>

          <div #overlay style="
            position: absolute;
            top: 0;
            left: 0;background-color: rgba(0, 0, 0, 1);">
            <!--<mat-spinner></mat-spinner>-->
          </div>
        </div>

        <div #hello1234 fxLayout="column" fxLayoutAlign="end">
          <div fxLayout="row" fxLayoutAlign="end">
            <button mat-raised-button color="accent" (click)="submit()" [disabled]="submitting">Next</button>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step editable="false">
      <ng-template matStepLabel>Done</ng-template>
      <div style="margin-bottom: 2em;">
        <h3>Request submitted</h3>
        <p>Your virtual machine consultation request has been submitted and an acknowledgement e-mail sent to <a>{{authService.user.mail}}</a>.</p>
      </div>
      <div fxLayout="column" fxLayoutAlign="end">
        <div fxLayout="row" fxLayoutAlign="end">
          <button mat-raised-button color="accent" [routerLink]="['/content', 1]">Back to Research Virtual Machines</button>
        </div>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
</mat-card>
